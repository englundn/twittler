<!DOCTYPE html>
<html>
  <head>
    <title>Twittler</title>
    <link rel="stylesheet" href="main.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <button type="button">Refresh Feed</button>
    <tweets>
    </tweets>
    <script>

      $(document).ready(function(){
        var $tweets = $('tweets');
        $tweets.html('');
        var index = streams.home.length - 1;
        numTweets = streams.home.length;
        while(index >= 0){
          var tweet = streams.home[index];
          var user = '@' + tweet.user + ': ';
          var message = tweet.message;
          var time = new Date().toLocaleString('en-US').split(' ')[1];
          var $tweet = $('<div class="tweetdiv"><section class="user"></section><section class="message"></section><section class="time"></section></div>');
          $tweet.find('.user').text(user);
          $tweet.find('.message').text(message);
          $tweet.find('.time').text(time);
          $tweet.appendTo($tweets);
          index -= 1;
        }
        $('button').on('click',function(event) {
          index = numTweets;
          while(index < streams.home.length){
      var tweet = streams.home[index];
          var user = '@' + tweet.user + ': ';
          var message = tweet.message;
          var time = new Date().toLocaleString('en-US').split(' ')[1];
          var $tweet = $('<div class="tweetdiv"><section class="user"></section><section class="message"></section><section class="time"></section></div>');
          $tweet.find('.user').text(user);
          $tweet.find('.message').text(message);
          $tweet.find('.time').text(time);
            $tweet.prependTo($tweets);
            index += 1;
          }
          numTweets = streams.home.length;
        })
      });

    </script>
  </body>
</html>
