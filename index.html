<!DOCTYPE html>
<html>
  <head>
    <title>Twittler</title>
    <link rel="stylesheet" href="main.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <div>
      <h1>Twittler</h1>
      <button type="button">Refresh Feed</button>
    </div>
    <tweets>
    </tweets>
    <script>

      var loadTweets = function(){
        var $tweets = $('tweets');
        $tweets.html('');
        var index = streams.home.length - 1;
        numTweets = streams.home.length;
        while(index >= 0){
          var tweet = streams.home[index];
          var user = '@' + tweet.user + ': ';
          var message = tweet.message;
          var time = new Date().toLocaleString('en-US').split(' ');
          time = time[1].concat(' ',time[2]);
          var $tweet = $('<div class="tweetdiv" user="' + tweet.user + '"><section class="user"></section><section class="message"></section><section class="time"></section></div>');
          $tweet.find('.user').text(user);
          $tweet.find('.message').text(message);
          $tweet.find('.time').text(time);
          $tweet.appendTo($tweets);
          index -= 1;
        }
      }
      $(document).ready(function(){
        loadTweets();

        $('button').on('click',function() {
        loadTweets();
    $('.user').on('click',function(){
          var username = $(this).parent().attr('user');
          $('tweets').find(".tweetdiv[user!=" + username + "]").remove();
        });
        })
    $('.user').on('click',function(){
          var username = $(this).parent().attr('user');
          $('tweets').find(".tweetdiv[user!=" + username + "]").remove();
      });
      });

    </script>
  </body>
</html>












